## Compile/Build Phases

Some of the considerations that go into what the phases of the compiler do
are

- Plugins/Libraries that do pre- or post-processing and are only referenced.
  Some plugins might be, spell checker, readability score generator, and
  linters.
- We want to be able to integrate code formatters, in other words feed the
  output of a command which takes a fenced code block as input and feeds it
  back into the initial fenced code block.
- To reduce boilerplate, we want to have macros. But other than for
  demonstration of what the macro does, we don't want the code generated by
  them to be in the pdf files (maybe in the html files, but only if it is
  hidden by default).
- LitProg is a build system and the declaration of output files should allow
  for caching/reuse of build artifacts. TODO: investigate `redo` which is
  supposidly a nicer version of `make`.

To produce a program

 0. Run macro definition code blocks.
 1. Run macros to produce intermediate markdown.
 2. Compile code artifacts to tmp directory.
 3. Run interactive sessions and capture outputs.
 4. Produce code artifacts.
 5. Produce intermediate html artifacts from original markdown.
 6. Extend intermediate html artifacts with captured outputs.
 7. Extend intermediate html by running plugins, for example to add anchor tags that enable jump to definition.
 8. Produce pdf artifacts from html.