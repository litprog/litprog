
@media print {
    body, .wrapper {
        color: #000;
    }
    p, blockquote, ul, ol {
        orphans: 3;
        widows: 3;
    }
    div.firstpara, img, table, blockquote, ul, ol {
        break-inside: avoid;
    }
    img {
        max-width: 100%;
    }

    code {
        padding: 0.07em 0.20em 0.14em 0.20em;
    }

    div.codehilite pre {
        margin-left: -1em;
        border-right: 0;
        letter-spacing: -0.02em;
    }

    .content ol, .content ul {
        /* Hack: I can't figure out where weasyprint adds all its margin,
          this hack just drags it back over again.
        */
        margin-left: -2em;
    }

    p a, ol a, li a {
        counter-increment: link;
        color: black;
        text-decoration: underline dotted;
    }

    body {
        counter-reset: link;
    }

    /*p > a, ol > a, li > a {margin-right: 1.1em;}*/

    p > a:after, ol > a:after, li > a:after {
        vertical-align: super;
        font-size: 0.65em;
        content: "{" counter(link) "}";
        /*min-width: .9em;*/
        /*margin-right: -.9em;*/
        /*display: inline-block;*/
        /*position: relative;*/
        /*left: 0.1em;*/
        /*bottom: 0.8em;*/
        color: #000;
        text-decoration: none;
        /*outline: 1px solid green;*/
    }

    .footnote a.footnote-backref {
        counter-increment: none;
        display: none;
    }

    .footnote-backref:after {
        display: none;
    }

    sup[id^=fnref] {
        font-size: 0.65em;
    }

    a.footnote-ref {
        color: #000;
        /*display: inline-block;*/
        text-decoration: none;
        /*min-width: .9em;*/
        /*margin-left: -.9em;*/
        /*position: relative;*/
        /*outline: 1px solid red;*/
    }

    h1 {string-set: chapter content();}
    h2 {string-set: section content();}

    @page {
        @top-left {
            font-family: lp-enriqueta, Enriqueta, Bitter, serif;
            font-size: 8.5pt;
            margin: 0 0 -5mm 0;
            white-space: pre;
        }
        @top-right {
            font-family: lp-enriqueta, Enriqueta, Bitter, serif;
            font-size: 8.5pt;
            margin: 0 0 -5mm 0;
            white-space: pre;
        }
    }
}
