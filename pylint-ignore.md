# Pylint-Ignore

**WARNING: This file is programatically generated.**

This file is parsed by [`pylint-ignore`](https://pypi.org/project/pylint-ignore/)
to determine which
[Pylint messages](https://pylint.pycqa.org/en/stable/technical_reference/features.html)
should be ignored.

- Do not edit this file manually.
- To update, use `pylint-ignore --update-ignorefile`

The recommended approach to using `pylint-ignore` is:

1. If a message refers to a valid issue, update your code rather than
   ignoring the message.
2. If a message should *always* be ignored (globally), then to do so
   via the usual `pylintrc` or `setup.cfg` files rather than this
   `pylint-ignore.md` file.
3. If a message is a false positive, add a comment of this form to your code:
   `# pylint:disable=<symbol> ; explain why this is a false positive`


# Overview

 - [W0212: protected-access (3x)](#w0212-protected-access)
 - [W0511: fixme (23x)](#w0511-fixme)
 - [W0703: broad-except (1x)](#w0703-broad-except)
 - [C0103: invalid-name (1x)](#c0103-invalid-name)
 - [C0415: import-outside-toplevel (2x)](#c0415-import-outside-toplevel)
 - [R0914: too-many-locals (2x)](#r0914-too-many-locals)
 - [R1702: too-many-nested-blocks (1x)](#r1702-too-many-nested-blocks)


# W0212: protected-access

## File src/litprog/simple_cache.py - Line 181 - W0212 (protected-access)

- `message: Access to a protected member _obj of a client class`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-08-15T16:30:27`

```
  177: def main():
  ...
  179:         assert isinstance(cache     , SimpleCache)
  180:         assert isinstance(cache._obj, dict)
> 181:         cache._obj['hello'] = u"wörld"
  182:
  183:     print("cache_path:", cache.path)
```


## File src/litprog/simple_cache.py - Line 189 - W0212 (protected-access)

- `message: Access to a protected member _obj of a client class`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-08-15T16:30:27`

```
  177: def main():
  ...
  187:     # later
  188:     with SimpleCache(mode="r") as cache:
> 189:         assert isinstance(cache._obj, dict)
  190:         assert cache._obj['hello'] == u"wörld"
  191:
```


## File src/litprog/simple_cache.py - Line 190 - W0212 (protected-access)

- `message: Access to a protected member _obj of a client class`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-08-15T16:30:27`

```
  177: def main():
  ...
  188:     with SimpleCache(mode="r") as cache:
  189:         assert isinstance(cache._obj, dict)
> 190:         assert cache._obj['hello'] == u"wörld"
  191:
  192:
```


# W0511: fixme

## File src/litprog/simple_cache.py - Line 33 - W0511 (fixme)

- `message: TODO (mb 2021-07-25):`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-08-15T16:30:27`

```
  31: logger = logging.getLogger("litprog.simple_cache")
  32:
> 33: # TODO (mb 2021-07-25):
  34: #   redis backing
  35: #   compression
```


## File src/litprog/capture_cache.py - Line 34 - W0511 (fixme)

- `message: TODO (mb 2021-03-05):`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-08-15T16:30:27`

```
  32:
  33:
> 34: # TODO (mb 2021-03-05):
  35:
  36: # dctx = zstandard.ZstdDecompressor()
```


## File src/litprog/pdf_util.py - Line 106 - W0511 (fixme)

- `message: TODO: resize, translate`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2020-12-11T15:37:25`

```
   58: def _calc_op_coords(pdf_doc: PDFDocument, op: str, raw_ops: typ.Iterator[str]) -> OpCoordinantes:
  ...
  104:             raise Exception(f"Invalid scale arg: {scale_type}")
  105:     else:
> 106:         # TODO: resize, translate
  107:         raise Exception(f"Invalid operation: {op}")
  108:
```


## File src/litprog/build.py - Line 115 - W0511 (fixme)

- `message: TODO: this should be part of the parsing of all directives`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2020-12-11T15:37:25`

```
  113:
  114:
> 115: # TODO: Maybe use this to parse all directive values, and thereby enable quoting.
  116: def _parse_prefix(directive: ct.Directive) -> str:
  117:     val = directive.value.strip()
```


## File src/litprog/vcs.py - Line 142 - W0511 (fixme)

- `message: TODO (mb 2021-01-21): better parsing of changed filename`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-03-13T20:48:00`

```
  132: def _parse_change(change_args: typ.Sequence[str]) -> Change:
  ...
  140:         del_rel       = len(change_args[3] or "")
  141:
> 142:     # TODO (mb 2021-01-21): better parsing of changed filename
  143:     #    '{static => src/litprog/static}/pdf_modal.css',
  144:     return Change(
```


## File src/litprog/html_postproc.py - Line 152 - W0511 (fixme)

- `message: TODO: Fix this cludge. For some reason, the`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2020-12-11T15:37:25`

```
  129: def iter_wrapped_lines(
  ...
  150:                     tag_end_idx = line_part.index(">")
  151:                     if add_initial_linebreak:
> 152:                         # TODO: Fix this cludge. For some reason, the
  153:                         #   first line is indented by less than a full
  154:                         #   space and I have no idea why.
```


## File src/litprog/vcs.py - Line 201 - W0511 (fixme)

- `message: TODO (mb 2021-01-28): Check if project path should be parameterized.`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-03-13T20:48:00`

```
  199:     def __init__(self, name: str, subcommands: typ.Dict[str, str] = None):
  200:         self.name = name
> 201:         # TODO (mb 2021-01-28): Check if project path should be parameterized.
  202:         self.project_path = pl.Path(os.getcwd()).absolute()
  203:
```


## File src/litprog/build.py - Line 253 - W0511 (fixme)

- `message: TODO (mb 2021-07-18): pylev for better message`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-08-15T16:30:27`

```
  213: def _expand_block_content(
  ...
  251:
  252:             if lp_dep_sid not in blocks_by_sid:
> 253:                 # TODO (mb 2021-07-18): pylev for better message
  254:                 errmsg = f"Invalid dep: '{lp_dep_sid}'"
  255:                 raise BlockError(errmsg, block)
```


## File src/litprog/build.py - Line 367 - W0511 (fixme)

- `message: TODO (mb 2020-12-30): These line numbers appear to be wrong,`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-03-13T20:48:00`

```
  341: def _iter_block_errors(parse_ctx: parse.Context, build_ctx: parse.Context) -> typ.Iterable[str]:
  ...
  365:                         rel_line_no += 1
  366:
> 367:                     # TODO (mb 2020-12-30): These line numbers appear to be wrong,
  368:                     #   I think for recursive dep directives in particular.
  369:                     line_no       = elem.first_line + rel_line_no
```


## File src/litprog/gen_docs.py - Line 367 - W0511 (fixme)

- `message: TODO (mb 2021-07-25): fix toc merge with bad headers`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-08-15T16:30:27`

```
  325: def _gen_html_chunk(
  ...
  365:         if partial_html_res.raw_html:
  366:             if html_res.toc_tokens:
> 367:                 # TODO (mb 2021-07-25): fix toc merge with bad headers
  368:                 html_res.toc_tokens[-1]['children'].append(partial_html_res.toc_tokens)
  369:                 logger.error("error merging toc_tokens")
```


## File src/litprog/build.py - Line 427 - W0511 (fixme)

- `message: TODO (mb 2020-12-17): Allow override/configuration`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-03-13T20:48:00`

```
  425:
  426: def _get_default_command(block: ct.Block) -> typ.Optional[str]:
> 427:     # TODO (mb 2020-12-17): Allow override/configuration
  428:     lang = block.info_string.strip()
  429:     if lang == 'python':
```


## File src/litprog/gen_docs.py - Line 428 - W0511 (fixme)

- `message: TODO (mb 2021-01-21): cover page with title and author(s)`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-03-13T20:48:00`

```
  417: def gen_pdf(
  ...
  426:         pdf_dir.mkdir(parents=True)
  427:
> 428:     # TODO (mb 2021-01-21): cover page with title and author(s)
  429:     #   timeline for whole project
  430:
```


## File src/litprog/parse.py - Line 504 - W0511 (fixme)

- `message: TODO (mb 2020-06-02): Why do we .strip() here ?`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2020-12-12T15:53:20`

```
  490:     def _init_plain_block(self, elem: MarkdownElement, info_string: str) -> ct.Block:
  ...
  502:             [],
  503:             elem.content,
> 504:             # TODO (mb 2020-06-02): Why do we .strip() here ?
  505:             inner_content.strip(),
  506:             inner_content.strip(),
```


## File src/litprog/build.py - Line 519 - W0511 (fixme)

- `message: TODO: coloring`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2020-12-11T15:37:25`

```
  517:
  518: def _parse_capture_output(capture: session.Capture, opts: ct.SessionBlockOptions) -> str:
> 519:     # TODO: coloring
  520:     # if "\u001b" in capture.stderr:
  521:     #     stderr = capture.stderr
```


## File src/litprog/html_postproc.py - Line 653 - W0511 (fixme)

- `message: TODO: split code blocks`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2020-12-11T15:37:25`

```
  650: def postproc4print(
  ...
  651:     html_res: md2html.HTMLResult, fmt: str, block_line_infos: list[ct.BlockLineInfo]
  652: ) -> HTMLText:
> 653:     # TODO: split code blocks
  654:     # - add ids to headlines
  655:     # - collect links and insert superscript (footnote links)
```


## File src/litprog/build.py - Line 666 - W0511 (fixme)

- `message: TODO: limit output using max_bytes and max_lines`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2020-12-11T15:37:25`

```
  626: def _process_isession(
  ...
  664:
  665:     if exit_status == opts.expected_exit_status:
> 666:         # TODO: limit output using max_bytes and max_lines
  667:         # TODO: output escaping/fence style change and errors
  668:         return capture
```


## File src/litprog/build.py - Line 667 - W0511 (fixme)

- `message: TODO: output escaping/fence style change and errors`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2020-12-11T15:37:25`

```
  626: def _process_isession(
  ...
  665:     if exit_status == opts.expected_exit_status:
  666:         # TODO: limit output using max_bytes and max_lines
> 667:         # TODO: output escaping/fence style change and errors
  668:         return capture
  669:     else:
```


## File src/litprog/parse.py - Line 733 - W0511 (fixme)

- `message: TODO: encoding from config`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2020-12-11T15:37:25`

```
  731:
  732: def _parse_md_elements(md_path: pl.Path) -> list[MarkdownElement]:
> 733:     # TODO: encoding from config
  734:     with md_path.open(mode='r', encoding="utf-8") as fobj:
  735:         content = fobj.read()
```


## File src/litprog/build.py - Line 767 - W0511 (fixme)

- `message: TODO (mb 2021-03-04): _task_results and _cache are somewhat redundant.`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-03-13T20:48:00`

```
  755:     def __init__(
  ...
  765:         self.elements_by_chapnum = {}
  766:
> 767:         # TODO (mb 2021-03-04): _task_results and _cache are somewhat redundant.
  768:         #   It might be possible/reasonable to always rely on the _cache to lookup
  769:         #   the capture of a task, even one that was just executed.
```


## File src/litprog/build.py - Line 966 - W0511 (fixme)

- `message: TODO (mb 2020-06-03): print context of block`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2020-12-11T15:37:25`

```
  954: def build(parse_ctx: parse.Context, opts: BuildOptions) -> parse.Context:
  ...
  964:         expanded_chapters = list(_iter_expanded_chapters(build_ctx.chapters))
  965:     except BlockError as err:
> 966:         # TODO (mb 2020-06-03): print context of block
  967:         contents = err.include_contents or [err.block.content]
  968:         for content in contents:
```


## File src/litprog/build.py - Line 989 - W0511 (fixme)

- `message: TODO (mb 2021-01-02): Atomicity guarantees`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-03-13T20:48:00`

```
  954: def build(parse_ctx: parse.Context, opts: BuildOptions) -> parse.Context:
  ...
  987:     _dump_files(build_ctx)
  988:
> 989:     # TODO (mb 2021-01-02): Atomicity guarantees
  990:     #   - Write new files to temp directory
  991:     #   - Only update if original mtimes are still the same
```


# W0703: broad-except

## File src/litprog/simple_cache.py - Line 91 - W0703 (broad-except)

- `message: Catching too general exception Exception`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-08-15T16:30:27`

```
  82:     def _load_obj(self) -> None:
  ...
  89:             except UnicodeError:
  90:                 self._obj = self._loads(self._in_data.decode("utf-8"))
> 91:             except Exception as ex:
  92:                 logger.warning(f"invalid cache data (maybe code changed), error: {ex}")
  93:
```


# C0103: invalid-name

## File src/litprog/simple_cache.py - Line 146 - C0103 (invalid-name)

- `message: Argument name "tb" doesn't conform to snake_case naming style`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-08-15T16:30:27`

```
   45: class SimpleCache:
  ...
  144:         return self
  145:
> 146:     def __exit__(self, typ, val, tb):
  147:         if typ or val or tb:
  148:             return
```


# C0415: import-outside-toplevel

## File src/litprog/cli.py - Line 130 - C0415 (import-outside-toplevel)

- `message: Import outside toplevel (litprog.build)`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-08-15T16:41:24`

```
  121: def _build(
  ...
  128:     concurrency    : int  = DEFAULT_CONCURRENCY,
  129: ) -> None:
> 130:     import litprog.build as lp_build
  131:     import litprog.parse as lp_parse
  132:
```


## File src/litprog/cli.py - Line 131 - C0415 (import-outside-toplevel)

- `message: Import outside toplevel (litprog.parse)`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-08-15T16:41:24`

```
  121: def _build(
  ...
  129: ) -> None:
  130:     import litprog.build as lp_build
> 131:     import litprog.parse as lp_parse
  132:
  133:     build_opts = lp_build.BuildOptions(
```


# R0914: too-many-locals

## File src/litprog/pdf_booklet.py - Line 175 - R0914 (too-many-locals)

- `message: Too many local variables (26/25)`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-08-15T16:30:27`

```
  173:
  174:
> 175: def create(
  176:     in_path         : pl.Path,
  177:     out_path        : typ.Optional[pl.Path] = None,
```


## File src/litprog/gen_docs.py - Line 417 - R0914 (too-many-locals)

- `message: Too many local variables (27/25)`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-08-15T16:30:27`

```
  415:
  416:
> 417: def gen_pdf(
  418:     ctx     : parse.Context,
  419:     html_dir: pl.Path,
```


# R1702: too-many-nested-blocks

## File src/litprog/build.py - Line 349 - R1702 (too-many-nested-blocks)

- `message: Too many nested blocks (6/5)`
- `author : Manuel Barkhau <mbarkhau@gmail.com>`
- `date   : 2021-08-15T16:30:27`

```
  341: def _iter_block_errors(parse_ctx: parse.Context, build_ctx: parse.Context) -> typ.Iterable[str]:
  ...
  347:     #   the original file.
  348:     assert len(parse_ctx.chapters) == len(build_ctx.chapters)
> 349:     for orig_chapter, chapter in zip(parse_ctx.chapters, build_ctx.chapters):
  350:         assert orig_chapter.md_paths == chapter.md_paths
  351:         for md_path in orig_chapter.md_paths:
```


